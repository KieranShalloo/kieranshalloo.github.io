<div class="project-header" style="position: relative; overflow: hidden;">
    <div class="hero-container" style="position: relative; height: 60vh; min-height: 320px;">

        {% assign project_data = site.data.headers[include.project] %}
        {% assign xlarge = project_data.sizes | where: "width", 1920 | first %}
        {% assign large = project_data.sizes | where: "width", 768 | first %}
        {% assign medium = project_data.sizes | where: "width", 414 | first %}

        <picture class="hero-image" style="position: absolute; inset: 0; z-index: 0;">
            {%- if xlarge %}
            {%- if xlarge.avif %}
            <source media="(min-width: 1200px)" srcset="{{ xlarge.avif }}" type="image/avif">
            {%- endif %}
            {%- if xlarge.webp %}
            <source media="(min-width: 1200px)" srcset="{{ xlarge.webp }}" type="image/webp">
            {%- endif %}
            <source media="(min-width: 1200px)" srcset="{{ xlarge.jpg }}">
            {%- endif %}

            {%- if large %}
            {%- if large.avif %}
            <source media="(min-width: 768px)" srcset="{{ large.avif }}" type="image/avif">
            {%- endif %}
            {%- if large.webp %}
            <source media="(min-width: 768px)" srcset="{{ large.webp }}" type="image/webp">
            {%- endif %}
            <source media="(min-width: 768px)" srcset="{{ large.jpg }}">
            {%- endif %}

            {%- if medium %}
            {%- if medium.avif %}
            <source srcset="{{ medium.avif }}" type="image/avif">
            {%- endif %}
            {%- if medium.webp %}
            <source srcset="{{ medium.webp }}" type="image/webp">
            {%- endif %}
            <img src="{{ medium.jpg }}" alt="{{ project_data.alt }}" loading="eager"
                style="width: 100%; height: 100%; object-fit: cover;">
            {%- else %}
            <!-- fallback if no medium at all -->
            <img src="{{ xlarge.jpg | default: large.jpg }}" alt="{{ project_data.alt }}" loading="eager"
                style="width: 100%; height: 100%; object-fit: cover;">
            {%- endif %}
        </picture>

        <!-- Overlay -->
        <div class="hero-overlay" style="
        position: absolute;
        inset: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1;
      "></div>

        <!-- Text Content -->
        <div class="hero-content" style="
        position: relative;
        z-index: 2;
        color: var(--light);
        text-align: center;
        top: 50%;
        transform: translateY(-50%);
        padding: 1rem;
      ">
            <h1>{{ project_data.title }}</h1>
            {% if project_data.subtitle %}
            <p>{{ project_data.subtitle }}</p>
            {% endif %}
        </div>

    </div>
</div>